function initActiveNav(){const e=window.location.pathname;document.querySelectorAll("header nav ul li a").forEach((t=>{const n=new URL(t.href).pathname;n===e||"/index.html"===n&&"/"===e?(t.classList.add("active"),t.setAttribute("aria-current","page")):(t.classList.remove("active"),t.removeAttribute("aria-current"))}))}function initScrollAnimations(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))}))}),{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll(".fade-in-section").forEach((t=>e.observe(t)))}function initParallaxEffect(){const e=document.querySelector(".hero");if(e){const t=e.getAttribute("data-image");t&&(e.style.backgroundImage=`url('${t}')`);let n=!1;const i=10;window.addEventListener("scroll",(()=>{n||(n=!0,setTimeout((()=>{const t=window.pageYOffset,i=e.getBoundingClientRect();if(i.bottom>0&&i.top<window.innerHeight){const n=-.3*t;window.requestAnimationFrame((()=>{e.style.backgroundPositionY=`${n}px`}))}n=!1}),i))}))}}function initThemeToggle(){const e=document.querySelector("header nav ul");if(!e)return;const t=document.createElement("li");t.classList.add("theme-toggle-container");const n=document.createElement("button");n.id="theme-toggle",n.innerHTML="ðŸŒ™",n.setAttribute("aria-label","Toggle light/dark theme"),n.title="Toggle light/dark theme",t.appendChild(n),e.appendChild(t);const i=localStorage.getItem("theme"),o=window.matchMedia("(prefers-color-scheme: dark)");let a="dark";i?a=i:o.matches||(a="light"),"light"===a?(document.body.setAttribute("data-theme","light"),n.innerHTML="â˜€ï¸"):(document.body.removeAttribute("data-theme"),n.innerHTML="ðŸŒ™"),n.addEventListener("click",(()=>{"light"===document.body.getAttribute("data-theme")?(document.body.removeAttribute("data-theme"),localStorage.setItem("theme","dark"),n.innerHTML="ðŸŒ™"):(document.body.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),n.innerHTML="â˜€ï¸")}))}document.addEventListener("DOMContentLoaded",(()=>{initScrollAnimations(),initParallaxEffect(),initThemeToggle(),initActiveNav()}));